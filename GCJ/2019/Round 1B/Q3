#pragma GCC optimize ("O3")
#pragma GCC target ("sse4")

#include <bits/stdc++.h>
#include <ext/pb_ds/tree_policy.hpp>
#include <ext/pb_ds/assoc_container.hpp>

using namespace std;
using namespace __gnu_pbds;

typedef long long ll;
typedef long double ld;
typedef vector<int> vi;
typedef pair<int, int> pii;
typedef vector<pii> vii;

typedef tree<int, null_type, less<int>, rb_tree_tag, tree_order_statistics_node_update> ordered_set;

#define FOR(i,a,b) for (int i = a; i < b; i++)
#define F0R(i,a) for (int i = 0; i < a; i++)
#define mp make_pair
#define pb push_back
#define all(x) x.begin(), x.end()

const int mxn = 1e5 + 500;
int T, N, K, cs[mxn], ds[mxn], ans, mxc, mxd;

void solve(int c){
    ans = 0;
    cin >> N >> K;
    for (int i = 0; i < N; ++i) cin >> cs[i];
    for (int i = 0; i < N; ++i) cin >> ds[i];
    
    for (int l = 0; l < N; ++l){
        for (int r = l; r < N; ++r){
            mxc = 0;
            mxd = 0;
            for (int k = l; k < r + 1; ++k){
                mxc = max(mxc, cs[k]);
                mxd = max(mxd, ds[k]);
            }
            if (abs(mxc - mxd) <= K) ans++;
        }
    }
    cout << "Case #" << c << ": " << ans << "\n";
}

int main(){
    ios::sync_with_stdio(0);
    cin.tie(0);
  
    cin >> T;
    for (int cnum = 1; cnum <= T; ++cnum) solve(cnum);
   
 
    return 0;
}


